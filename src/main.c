#include "cpu.h"

int main(int argc, char** argv) {
    init(64 * 1024);
    printComputerInfo();

    //byte initialMem[] = {
    //    0xA9, 0x01,
    //    0x8D, 0x00, 0x02,
    //    0xA9, 0x05,
    //    0x8D, 0x01, 0x02,
    //    0xA9, 0x0A,
    //    0x8D, 0x02, 0x02
    //};

    byte mem[] = {
        0xA9, 0x26,
        0x85, 0x03,
        0xA9, 0x25,
        0x85, 0x02,
        0xA9, 0x24,
        0x85, 0x01,

        0xA9, 0x23,
        0x85, 0x00,
        0xA9, 0x00,
        0xA2, 0x02,
        0xB5, 0x00
    };

    setMem(0x600, 22, mem); // Virtual ROM loading
    execute();

    memDump(0x0000, 32);

    shutdown();
    return 0;
}
